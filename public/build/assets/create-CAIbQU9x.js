import{Z as I,r as c,c as k,o as h,w as n,a as o,g as e,f as m,d as x,F as q,h as C,t as P}from"./app-BEcxhe1F.js";import{L as N}from"./main-CwPkRMAI.js";import{P as A}from"./page-header-CyCrLvcG.js";import{s as T}from"./default-DmN_kFqf.js";import{C as V}from"./component-Cp7vIBon.js";/* empty css                  */import{p as E}from"./ecommerce-Dfi2I3-P.js";import{_ as F}from"./logo-dark-Dh5pZxEJ.js";import{_ as L}from"./logo-light-DJkTuO8P.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./helpers-BAXWLZRz.js";import"./simplebar-vue.esm-BqoehdNS.js";import"./logo-sm-Du8Of0Sj.js";import"./avatar-2-86M8S3El.js";import"./avatar-3-C_5WlMir.js";import"./avatar-5-DXW8GA-H.js";import"./russia-DqU8AKV7.js";import"./avatar-8-DqJ4kEa5.js";import"./avatar-6-Bb_p0Nhs.js";import"./bell-Dwr83Hdp.js";import"./img-6--SfkIEFV.js";import"./img-7-CvNZ0bh0.js";import"./img-8-B8bh9Knh.js";import"./img-10-wtPdmTw2.js";import"./img-1-CdjoL1YV.js";import"./img-2-BH-bzfG8.js";import"./img-3-DN-aBxcI.js";import"./img-4-hJ5AbXP7.js";import"./img-5-CP8-kZKO.js";import"./img-6-B7vc9TX1.js";import"./img-7-D2rbWVuw.js";import"./img-8-DLGGuBFI.js";const D={data(){return{value:null,paymentvalue:null,value1:"$",config:{wrap:!0,altFormat:"M j, Y",altInput:!0,enableTime:!0},paymentSign:"$",date:null,count:1,taxRate:.125,shippingRate:65,discountRate:.15,inputVal:0,inputVal1:5,products:[],allproductdata:[],productvalue:null,newproductvalue:["",""],productids:[]}},components:{Layout:N,PageHeader:A,Multiselect:T,flatPickr:V,Head:I},methods:{selectedv(l){if(l){let r=this.allproductdata.findIndex(s=>s.name==l);for(var t=JSON.parse(JSON.stringify(this.newproductvalue)),a=1;a<=t.length;a++)if(t[a-1]==l){var i=this.allproductdata[r].price;i=i.replace("$",""),i=i.replace(" ",""),document.getElementById("productprice"+a).value=i}this.productids.push(this.allproductdata[r].id)}},createinvoice(){document.getElementById("companyAddress").value,document.getElementById("companyaddpostalcode").value,document.getElementById("registrationNumber").value,document.getElementById("companyEmail").value,document.getElementById("companyWebsite").value,document.getElementById("compnayContactno").value,document.getElementById("invoicenoInput").value,document.getElementById("invoicedate").value,document.getElementById("paymentstatus").value,document.getElementById("billingName").value,document.getElementById("billingAddress").value,document.getElementById("billingPhoneno").value,document.getElementById("billingTaxno").value,document.getElementById("shippingName").value,document.getElementById("shippingAddress").value,document.getElementById("shippingPhoneno").value,document.getElementById("shippingTaxno").value,document.getElementById("cart-subtotal").value,document.getElementById("cart-tax").value,document.getElementById("cart-discount").value,document.getElementById("cart-shipping").value,document.getElementById("cardholderName").value,document.getElementById("cardNumber").value,document.getElementById("amountTotalPay").value,document.getElementById("exampleFormControlTextarea1").value,this.productids},new_link(){this.newproductvalue[this.count]="",this.count++,setTimeout(()=>{this.remove()},400)},remove(){document.querySelectorAll(".product-removal a").forEach(l=>{l.addEventListener("click",t=>{this.removeItem(t),this.resetRow(),this.count--})})},resetRow(){document.getElementById("newlink").querySelectorAll("tr").forEach((l,t)=>{var a=t+1;l.querySelector(".product-id").innerHTML=a})},removeItem(l){l.target.closest("tr").remove(),this.recalculateCart()},recalculateCart(){var l=0;setTimeout(()=>{Array.prototype.forEach.call(document.getElementsByClassName("product"),s=>{Array.prototype.forEach.call(s.getElementsByClassName("product-line-price"),p=>{p.value&&(l+=parseFloat(p.value.slice(1)))})},100);var t=l*this.taxRate,a=l*this.discountRate,i=l>0?this.shippingRate:0,r=l+t+i-a;document.getElementById("cart-subtotal").value=this.paymentSign+l.toFixed(2),document.getElementById("cart-tax").value=this.paymentSign+t.toFixed(2),document.getElementById("cart-shipping").value=this.paymentSign+i.toFixed(2),document.getElementById("cart-total").value=this.paymentSign+r.toFixed(2),document.getElementById("cart-discount").value=this.paymentSign+a.toFixed(2),document.getElementById("totalamountInput").value=this.paymentSign+r.toFixed(2),document.getElementById("amountTotalPay").value=this.paymentSign+r.toFixed(2)},100)},isData(){const l=document.getElementsByClassName("plus"),t=document.getElementsByClassName("minus");l&&Array.prototype.forEach.call(l,a=>{a.addEventListener("click",i=>{if(console.log(i.target.previousElementSibling.value),parseInt(a.previousElementSibling.value)<10){i.target.previousElementSibling.value++;var r=a.parentElement.parentElement.previousElementSibling.querySelector(".product-price").value,s=a.parentElement.parentElement.nextElementSibling.querySelector(".product-line-price"),p=a.parentElement.querySelector(".product-quantity").value;this.updateQuantity(p,r,s)}})}),t&&Array.prototype.forEach.call(t,a=>{a.addEventListener("click",i=>{if(parseInt(a.nextElementSibling.value)>1){i.target.nextElementSibling.value--;var r=a.parentElement.parentElement.previousElementSibling.querySelector(".product-price").value,s=a.parentElement.parentElement.nextElementSibling.querySelector(".product-line-price"),p=a.parentElement.querySelector(".product-quantity").value;this.updateQuantity(p,r,s)}})})},updateQuantity(l,t,a){let i=l*t;i=i.toFixed(2),a.value=this.paymentSign+i,this.recalculateCart()},amountKeyup(){Array.prototype.forEach.call(document.getElementsByClassName("product-price"),l=>{l.addEventListener("keyup",t=>{let a=l.parentElement.nextElementSibling.nextElementSibling.querySelector(".product-line-price"),i=t.target.value,r=l.parentElement.nextElementSibling.querySelector(".product-quantity").value;this.updateQuantity(i,r,a)})})},plusamount(){event.target.previousElementSibling.value++;var l=event.target.parentElement.parentElement.previousElementSibling.querySelector(".product-price").value,t=event.target.parentElement.parentElement.nextElementSibling.querySelector(".product-line-price"),a=event.target.parentElement.querySelector(".product-quantity").value;this.updateQuantity(a,l,t)},minusamount(){event.target.nextElementSibling.value--;var l=event.target.parentElement.parentElement.previousElementSibling.querySelector(".product-price").value,t=event.target.parentElement.parentElement.nextElementSibling.querySelector(".product-line-price"),a=event.target.parentElement.querySelector(".product-quantity").value;this.updateQuantity(a,l,t)}},watch:{newproductvalue(){console.log("this.newproductvalue")},productvalue(l){if(console.log(this.newproductvalue),this.newproductvalue.forEach(t=>{console.log("the value",t)}),document.getElementById("productprice").value="",l){let t=this.allproductdata.findIndex(a=>a.name==l);document.getElementById("productprice").value=this.allproductdata[t].price,this.productids.push(this.allproductdata[t].id)}}},beforeMount(){this.allproductdata=E,E.forEach(l=>{var t={value:l.name,label:l.name};this.products.push(t)})},mounted(){this.remove()}},Q={class:"needs-validation",novalidate:""},M={class:"input-light"},U={class:"table-responsive"},j={class:"invoice-table table table-borderless table-nowrap mb-0"},H={class:"align-middle"},O={class:"table-active"},W={scope:"col",style:{width:"152px"}},J={class:"d-flex currency-select input-light align-items-center"},Z={id:"newlink"},z=["id"],K={scope:"row",class:"product-id"},Y={class:"text-start"},$=["id"],G={class:"input-step"},X={class:"product-removal"},ee={colspan:"9"},te={class:"mb-2"},le={class:"input-light"},oe={class:"hstack gap-2 justify-content-end d-print-none mt-4"};function ae(l,t,a,i,r,s){const p=c("PageHeader"),u=c("BCol"),g=c("BRow"),v=c("BCardBody"),_=c("flat-pickr"),b=c("Multiselect"),y=c("BLink"),B=c("BButton"),w=c("BCard"),S=c("Layout");return h(),k(S,null,{default:n(()=>[o(p,{title:"Create Invoice",pageTitle:"Invoices"}),o(g,{class:"justify-content-center"},{default:n(()=>[o(u,{xxl:"9"},{default:n(()=>[o(w,{"no-body":""},{default:n(()=>[e("form",Q,[o(v,{class:"border-bottom border-bottom-dashed p-4"},{default:n(()=>[o(g,null,{default:n(()=>[o(u,{lg:"4"},{default:n(()=>t[6]||(t[6]=[e("div",{class:"profile-user mx-auto mb-3"},[e("input",{id:"profile-img-file-input",type:"file",class:"profile-img-file-input",required:""}),e("label",{for:"profile-img-file-input",class:"d-block",tabindex:"0"},[e("span",{class:"overflow-hidden border border-dashed d-flex align-items-center justify-content-center rounded",style:{height:"60px",width:"256px"}},[e("img",{src:F,class:"card-logo card-logo-dark user-profile-image img-fluid",alt:"logo dark"}),e("img",{src:L,class:"card-logo card-logo-light user-profile-image img-fluid",alt:"logo light"})])])],-1),e("div",null,[e("div",null,[e("label",{for:"companyAddress"},"Address")]),e("div",{class:"mb-2"},[e("textarea",{class:"form-control bg-light border-0",id:"companyAddress",rows:"3",placeholder:"Company Address",required:""}),e("div",{class:"invalid-feedback"},"Please enter a address")]),e("div",null,[e("input",{type:"text",class:"form-control bg-light border-0",id:"companyaddpostalcode",minlength:"5",maxlength:"6",placeholder:"Enter Postal Code",required:""}),e("div",{class:"invalid-feedback"}," The US zip code must contain 5 digits, Ex. 45678 ")])],-1)])),_:1,__:[6]}),o(u,{lg:"4",class:"ms-auto"},{default:n(()=>t[7]||(t[7]=[e("div",{class:"mb-2"},[e("input",{type:"text",class:"form-control bg-light border-0",id:"registrationNumber",maxlength:"12",placeholder:"Legal Registration No",required:""}),e("div",{class:"invalid-feedback"}," Please enter a registration no, Ex., 012345678912 ")],-1),e("div",{class:"mb-2"},[e("input",{type:"email",class:"form-control bg-light border-0",id:"companyEmail",placeholder:"Email Address",required:""}),e("div",{class:"invalid-feedback"}," Please enter a valid email, Ex., example@gamil.com ")],-1),e("div",{class:"mb-2"},[e("input",{type:"text",class:"form-control bg-light border-0",id:"companyWebsite",placeholder:"Website",required:""}),e("div",{class:"invalid-feedback"}," Please enter a website, Ex., www.example.com ")],-1),e("div",null,[e("input",{type:"text",class:"form-control bg-light border-0","data-plugin":"cleave-phone",id:"compnayContactno",placeholder:"Contact No",required:""}),e("div",{class:"invalid-feedback"}," Please enter a contact number ")],-1)])),_:1,__:[7]})]),_:1})]),_:1}),o(v,{class:"p-4"},{default:n(()=>[o(g,{class:"g-3"},{default:n(()=>[o(u,{lg:"3",sm:"6"},{default:n(()=>t[8]||(t[8]=[e("label",{for:"invoicenoInput"},"Invoice No",-1),e("input",{type:"text",class:"form-control bg-light border-0",id:"invoicenoInput",placeholder:"Invoice No",value:"#VL25000355",readonly:""},null,-1)])),_:1,__:[8]}),o(u,{lg:"3",sm:"6"},{default:n(()=>[e("div",null,[t[9]||(t[9]=e("label",{for:"date-field"},"Date",-1)),o(_,{modelValue:r.date,"onUpdate:modelValue":t[0]||(t[0]=d=>r.date=d),id:"invoicedate",placeholder:"Select date and time",config:r.config,class:"form-control bg-light border-light border-0"},null,8,["modelValue","config"])])]),_:1}),o(u,{lg:"3",sm:"6"},{default:n(()=>[t[10]||(t[10]=e("label",{for:"choices-payment-status"},"Payment Status",-1)),e("div",M,[o(b,{class:"form-control w-md",id:"paymentstatus",modelValue:r.paymentvalue,"onUpdate:modelValue":t[1]||(t[1]=d=>r.paymentvalue=d),"close-on-select":!0,searchable:!0,"create-option":!0,options:[{value:"",label:"Select Payment Status"},{value:"Paid",label:"Paid"},{value:"Unpaid",label:"Unpaid"},{value:"Refund",label:"Refund"}]},null,8,["modelValue"])])]),_:1,__:[10]}),o(u,{lg:"3",sm:"6"},{default:n(()=>t[11]||(t[11]=[e("div",null,[e("label",{for:"totalamountInput"},"Total Amount"),e("input",{type:"text",class:"form-control bg-light border-0",id:"totalamountInput",placeholder:"$0.00",readonly:""})],-1)])),_:1,__:[11]})]),_:1})]),_:1}),o(v,{class:"p-4 border-top border-top-dashed"},{default:n(()=>[o(g,null,{default:n(()=>[o(u,{lg:"4",sm:"6"},{default:n(()=>t[12]||(t[12]=[e("div",null,[e("label",{for:"billingName",class:"text-muted text-uppercase fw-semibold"},"Billing Address")],-1),e("div",{class:"mb-2"},[e("input",{type:"text",class:"form-control bg-light border-0",id:"billingName",placeholder:"Full Name",required:""}),e("div",{class:"invalid-feedback"},"Please enter a full name")],-1),e("div",{class:"mb-2"},[e("textarea",{class:"form-control bg-light border-0",id:"billingAddress",rows:"3",placeholder:"Address",required:""}),e("div",{class:"invalid-feedback"},"Please enter a address")],-1),e("div",{class:"mb-2"},[e("input",{type:"text",class:"form-control bg-light border-0","data-plugin":"cleave-phone",id:"billingPhoneno",placeholder:"(123)456-7890",required:""}),e("div",{class:"invalid-feedback"}," Please enter a phone number ")],-1),e("div",{class:"mb-3"},[e("input",{type:"text",class:"form-control bg-light border-0",id:"billingTaxno",placeholder:"Tax Number",required:""}),e("div",{class:"invalid-feedback"}," Please enter a tax number ")],-1),e("div",{class:"form-check"},[e("input",{type:"checkbox",class:"form-check-input",id:"same",name:"same",onchange:"billingFunction()"}),e("label",{class:"form-check-label",for:"same"}," Will your Billing and Shipping address same? ")],-1)])),_:1,__:[12]}),o(u,{sm:"6",class:"ms-auto"},{default:n(()=>[o(g,null,{default:n(()=>[o(u,{lg:"8"},{default:n(()=>t[13]||(t[13]=[e("div",null,[e("label",{for:"shippingName",class:"text-muted text-uppercase fw-semibold"},"Shipping Address")],-1),e("div",{class:"mb-2"},[e("input",{type:"text",class:"form-control bg-light border-0",id:"shippingName",placeholder:"Full Name",required:""}),e("div",{class:"invalid-feedback"}," Please enter a full name ")],-1),e("div",{class:"mb-2"},[e("textarea",{class:"form-control bg-light border-0",id:"shippingAddress",rows:"3",placeholder:"Address",required:""}),e("div",{class:"invalid-feedback"}," Please enter a address ")],-1),e("div",{class:"mb-2"},[e("input",{type:"text",class:"form-control bg-light border-0","data-plugin":"cleave-phone",id:"shippingPhoneno",placeholder:"(123)456-7890",required:""}),e("div",{class:"invalid-feedback"}," Please enter a phone number ")],-1),e("div",null,[e("input",{type:"text",class:"form-control bg-light border-0",id:"shippingTaxno",placeholder:"Tax Number",required:""}),e("div",{class:"invalid-feedback"}," Please enter a tax number ")],-1)])),_:1,__:[13]})]),_:1})]),_:1})]),_:1})]),_:1}),o(v,{class:"p-4"},{default:n(()=>[e("div",U,[e("table",j,[e("thead",H,[e("tr",O,[t[15]||(t[15]=e("th",{scope:"col",style:{width:"50px"}},"#",-1)),t[16]||(t[16]=e("th",{scope:"col"},"Product Details",-1)),e("th",W,[e("div",J,[t[14]||(t[14]=m(" Rate ")),o(b,{class:"bg-light",modelValue:r.value1,"onUpdate:modelValue":t[2]||(t[2]=d=>r.value1=d),"close-on-select":!0,searchable:!0,"create-option":!0,options:[{value:"$",label:"($)"},{value:"£",label:"(£)"},{value:"₹",label:"(₹)"},{value:"€",label:"(€)"}]},null,8,["modelValue"])])]),t[17]||(t[17]=e("th",{scope:"col",style:{width:"120px"}},"Quantity",-1)),t[18]||(t[18]=e("th",{scope:"col",class:"text-end",style:{width:"150px"}}," Amount ",-1)),t[19]||(t[19]=e("th",{scope:"col",class:"text-end",style:{width:"105px"}},null,-1))])]),e("tbody",Z,[(h(!0),x(q,null,C(r.count,d=>(h(),x("tr",{key:d,id:d,class:"product"},[e("th",K,P(d),1),e("td",Y,[o(b,{class:"form-control w-md",modelValue:r.newproductvalue[d-1],"onUpdate:modelValue":f=>r.newproductvalue[d-1]=f,"close-on-select":!0,searchable:!0,"create-option":!0,options:r.products,onSelect:f=>s.selectedv(r.newproductvalue[d-1])},null,8,["modelValue","onUpdate:modelValue","options","onSelect"])]),e("td",null,[e("input",{type:"number",id:"productprice"+d,class:"form-control product-price bg-light border-0",placeholder:"0.00",required:""},null,8,$),t[20]||(t[20]=e("div",{class:"invalid-feedback"},"Please enter a rate",-1))]),e("td",null,[e("div",G,[e("button",{type:"button",onClick:t[3]||(t[3]=f=>s.minusamount(this))},"–"),t[21]||(t[21]=e("input",{type:"number",class:"product-quantity",readonly:""},null,-1)),e("button",{type:"button",onClick:t[4]||(t[4]=f=>s.plusamount(this))},"+")])]),t[23]||(t[23]=e("td",{class:"text-end"},[e("div",null,[e("input",{type:"text",class:"form-control bg-light border-0 product-line-price",placeholder:"$0.00",readonly:""})])],-1)),e("td",X,[o(y,{href:"javascript:void(0)",class:"btn btn-success"},{default:n(()=>t[22]||(t[22]=[m("Delete")])),_:1,__:[22]})])],8,z))),128))]),t[25]||(t[25]=e("tr",{id:"newForm",style:{display:"none"}},null,-1)),e("tr",null,[e("td",ee,[o(y,{href:"javascript:void(0)",onClick:s.new_link,class:"btn btn-soft-secondary fw-medium"},{default:n(()=>t[24]||(t[24]=[e("i",{class:"ri-add-fill me-1 align-bottom"},null,-1),m(" Add Item")])),_:1,__:[24]},8,["onClick"])])]),t[26]||(t[26]=e("tr",{class:"border-top border-top-dashed mt-2"},[e("td",{colspan:"3"}),e("td",{colspan:"2",class:"p-0"},[e("table",{class:"table table-borderless table-sm table-nowrap align-middle mb-0"},[e("tbody",null,[e("tr",null,[e("th",{scope:"row"},"Sub Total"),e("td",{style:{width:"150px"}},[e("input",{type:"text",class:"form-control bg-light border-0",id:"cart-subtotal",placeholder:"$0.00",readonly:""})])]),e("tr",null,[e("th",{scope:"row"},"Estimated Tax (12.5%)"),e("td",null,[e("input",{type:"text",class:"form-control bg-light border-0",id:"cart-tax",placeholder:"$0.00",readonly:""})])]),e("tr",null,[e("th",{scope:"row"},[m(" Discount "),e("small",{class:"text-muted"},"(VELZON15)")]),e("td",null,[e("input",{type:"text",class:"form-control bg-light border-0",id:"cart-discount",placeholder:"$0.00",readonly:""})])]),e("tr",null,[e("th",{scope:"row"},"Shipping Charge"),e("td",null,[e("input",{type:"text",class:"form-control bg-light border-0",id:"cart-shipping",placeholder:"$0.00",readonly:""})])]),e("tr",{class:"border-top border-top-dashed"},[e("th",{scope:"row"},"Total Amount"),e("td",null,[e("input",{type:"text",class:"form-control bg-light border-0",id:"cart-total",placeholder:"$0.00",readonly:""})])])])])])],-1))])]),o(g,{class:"mt-3"},{default:n(()=>[o(u,{lg:"4"},{default:n(()=>[e("div",te,[t[27]||(t[27]=e("label",{for:"choices-payment-type",class:"form-label text-muted text-uppercase fw-semibold"},"Payment Details",-1)),e("div",le,[o(b,{class:"form-control w-md",modelValue:r.value,"onUpdate:modelValue":t[5]||(t[5]=d=>r.value=d),"close-on-select":!0,searchable:!0,"create-option":!0,options:[{value:"",label:"Payment Method"},{value:"Mastercard",label:"Mastercard"},{value:"Credit Card",label:"Credit Card"},{value:"Visa",label:"Visa"},{value:"Paypal",label:"Paypal"}]},null,8,["modelValue"])])]),t[28]||(t[28]=e("div",{class:"mb-2"},[e("input",{class:"form-control bg-light border-0",type:"text",id:"cardholderName",placeholder:"Card Holder Name"})],-1)),t[29]||(t[29]=e("div",{class:"mb-2"},[e("input",{class:"form-control bg-light border-0",type:"text",id:"cardNumber",placeholder:"xxxx xxxx xxxx xxxx"})],-1)),t[30]||(t[30]=e("div",null,[e("input",{class:"form-control bg-light border-0",type:"text",id:"amountTotalPay",placeholder:"$0.00",readonly:""})],-1))]),_:1,__:[28,29,30]})]),_:1}),t[34]||(t[34]=e("div",{class:"mt-4"},[e("label",{for:"exampleFormControlTextarea1",class:"form-label text-muted text-uppercase fw-semibold"},"NOTES"),e("textarea",{class:"form-control alert alert-info",id:"exampleFormControlTextarea1",placeholder:"Notes",rows:"2",required:""},"All accounts are to be paid within 7 days from receipt of invoice. To be paid by cheque or credit card or direct payment online. If account is not paid within 7 days the credits details supplied as confirmation of work undertaken will be charged the agreed quoted fee noted above.")],-1)),e("div",oe,[o(B,{type:"button",variant:"success",onClick:s.createinvoice},{default:n(()=>t[31]||(t[31]=[e("i",{class:"ri-printer-line align-bottom me-1"},null,-1),m(" Save ")])),_:1,__:[31]},8,["onClick"]),o(y,{href:"javascript:void(0);",class:"btn btn-primary"},{default:n(()=>t[32]||(t[32]=[e("i",{class:"ri-download-2-line align-bottom me-1"},null,-1),m(" Download Invoice")])),_:1,__:[32]}),o(y,{href:"javascript:void(0);",class:"btn btn-danger"},{default:n(()=>t[33]||(t[33]=[e("i",{class:"ri-send-plane-fill align-bottom me-1"},null,-1),m(" Send Invoice")])),_:1,__:[33]})])]),_:1,__:[34]})])]),_:1})]),_:1})]),_:1})]),_:1})}const Re=R(D,[["render",ae]]);export{Re as default};
