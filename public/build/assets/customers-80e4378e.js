import{Z as Q,r as c,c as j,w as a,o as f,a as l,f as e,h as u,k as g,G as k,d as b,g as S,t as h,n as p,F as A,e as V,H as F}from"./app-3cfb9ddb.js";import{L as Y}from"./main-fd3f050e.js";import{P as q}from"./page-header-c76b7ffd.js";import{s as O}from"./default-f97f4f20.js";import{C as R}from"./component-27d39a3f.js";/* empty css                  */import{S as D}from"./sweetalert2.all-098e2c6f.js";import{L as z}from"./lottie-5626eee8.js";import{a as W}from"./msoeawqm-c4b44bd9.js";import{a as J}from"./gsqxdxog-aa5608e9.js";import{c as Z}from"./ecommerce-93df4fb5.js";import{_ as G}from"./_plugin-vue_export-helper-c27b6911.js";import"./simplebar-vue.esm-3378fd5d.js";import"./logo-sm-eae269a3.js";import"./logo-dark-24ab6998.js";import"./logo-light-01b48412.js";import"./avatar-2-4823f2b4.js";import"./avatar-3-cd4bfcf0.js";import"./avatar-5-577750b4.js";import"./russia-3c30e48e.js";import"./avatar-8-a9f045da.js";import"./avatar-6-c2396ad9.js";import"./img-6-8498589a.js";import"./img-7-5ee63dac.js";import"./img-8-c8f14061.js";import"./img-10-18cb9bcb.js";import"./img-1-e362207c.js";import"./img-2-2f1ef61b.js";import"./img-3-76f9e177.js";import"./img-4-84e842c2.js";import"./img-5-8ffdf923.js";import"./img-6-d9e6afcb.js";import"./img-7-055cda8b.js";import"./img-8-8da5637c.js";const K={data(){return{date1:null,date:null,addCustomerModal:!1,editCustomerModal:!1,rangeDateconfig:{wrap:!0,altFormat:"M j, Y",altInput:!0,dateFormat:"d M, Y",mode:"range"},config:{enableTime:!1,dateFormat:"d M, Y"},searchQuery:null,defaultOptions:{animationData:W},defaultOptions2:{animationData:J},page:1,perPage:8,value:"All",value1:null,pages:[],customerList:Z,submitted:!1,dataEdit:!1,deleteModal:!1,event:{id:"",customer:"",customerId:"",date:"",email:"",phone:"",status:""}}},computed:{displayedPosts(){return this.paginate(this.customerList)},resultQuery(){if(this.searchQuery){const n=this.searchQuery.toLowerCase();return this.displayedPosts.filter(d=>d.customer.toLowerCase().includes(n)||d.email.toLowerCase().includes(n)||d.phone.includes(n)||d.date.toLowerCase().includes(n)||d.status.toLowerCase().includes(n))}else if(this.date!==null){if(this.date!==null)var i=this.date.split(" to ")[0],s=this.date.split(" to ")[1];return this.displayedPosts.filter(n=>new Date(n.date.slice(0,12))>=new Date(i)&&new Date(n.date.slice(0,12))<=new Date(s)?n:null)}else return this.value!==null?this.displayedPosts.filter(n=>n.status===this.value||this.value=="All"?n:null):this.displayedPosts}},created(){this.setPages()},watch:{customerList(){this.setPages()}},filters:{trimWords(i){return i.split(" ").splice(0,20).join(" ")+"..."}},methods:{handleSubmit(){if(this.dataEdit)this.submitted=!0,this.submitted&&this.event.customer&&this.event.email&&this.event.phone&&this.event.date&&this.event.status&&(this.addCustomerModal=!1,this.customerList=this.customerList.map(i=>i.id.toString()==this.event.id.toString()?{...i,...this.event}:i));else if(this.submitted=!0,this.submitted&&this.event.customer&&this.event.email&&this.event.phone&&this.event.date&&this.event.status){const i={id:Math.floor(Math.random()*100+20)-20,customerId:"#VZ2"+(Math.floor(Math.random()*100+20)-20),...this.event};this.customerList=[i,...this.customerList],this.addCustomerModal=!1}},onSort(i){this.direction=this.direction==="asc"?"desc":"asc";const s=[...this.customerList];s.sort((n,d)=>{const t=n[i]<d[i]?-1:n[i]>d[i]?1:0;return this.direction==="asc"?t:-t}),this.customerList=s},editDetails(i){this.dataEdit=!0,this.addCustomerModal=!0,this.event={...i},this.submitted=!1},toggleModal(){this.addCustomerModal=!0,this.dataEdit=!1,this.event={},this.submitted=!1},deleteModalToggle(i){this.deleteModal=!0,this.event.id=i.id},deleteData(){this.event.id&&(this.customerList=this.customerList.filter(i=>i.id!=this.event.id),this.deleteModal=!1)},setPages(){let i=Math.ceil(this.customerList.length/this.perPage);this.pages=[];for(let s=1;s<=i;s++)this.pages.push(s)},paginate(i){let s=this.page,n=this.perPage,d=s*n-n,t=s*n;return i.slice(d,t)},deleteMultiple(){let i=[];var s=document.getElementsByName("chk_child");s.forEach(function(n){if(n.checked==!0){var d=n.parentNode.parentNode.parentNode,t=d.querySelector(".id a").innerHTML;i.push(t)}}),typeof i<"u"&&i.length>0?D.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,cancelButtonColor:"#f46a6a",confirmButtonColor:"#34c38f",confirmButtonText:"Yes, delete it!"}).then(n=>{if(n.value){var d=this.customerList;i.forEach(function(r){d=d.filter(function(C){return C.customerId!=r})}),this.customerList=d,document.getElementById("checkAll").checked=!1;var t=document.getElementsByName("chk_child");t.forEach(function(r){r.checked==!0&&(r.checked=!1,r.closest("tr").classList.remove("table-active"))})}}):D.fire({title:"Please select at least one checkbox",confirmButtonClass:"btn btn-info",buttonsStyling:!0,showCloseButton:!0})},SearchData(){this.value=this.value1}},mounted(){var i=document.getElementById("checkAll");i&&(i.onclick=function(){var n=document.querySelectorAll('.form-check-all input[type="checkbox"]');i.checked==!0?n.forEach(function(d){d.checked=!0,d.closest("tr").classList.add("table-active"),document.getElementById("remove-actions").style.display="block"}):n.forEach(function(d){d.checked=!1,d.closest("tr").classList.remove("table-active"),document.getElementById("remove-actions").style.display="none"})});var s=document.querySelectorAll("#customerTable .form-check-input");Array.from(s).forEach(function(n){n.addEventListener("change",function(d){var t=document.querySelectorAll("#customerTable .form-check-input:checked").length;d.target.closest("tr").classList.contains("table-active"),t>0?document.getElementById("remove-actions").style.display="block":document.getElementById("remove-actions").style.display="none"})})},components:{Layout:Y,PageHeader:q,lottie:z,Multiselect:O,flatPickr:R,Head:Q}},X=e("div",null,[e("h5",{class:"card-title mb-0"},"Customer List")],-1),$={class:"d-flex flex-wrap align-items-start gap-2"},ee=e("i",{class:"ri-delete-bin-2-line"},null,-1),te=e("i",{class:"ri-add-line align-bottom me-1"},null,-1),se=e("i",{class:"ri-file-download-line align-bottom me-1"},null,-1),oe={class:"search-box"},le=e("i",{class:"ri-search-line search-icon"},null,-1),ie={class:""},ae=e("i",{class:"ri-equalizer-fill me-2 align-bottom"},null,-1),ne={class:"table-responsive table-card mb-1"},de={class:"table align-middle",id:"customerTable"},re={class:"table-light text-muted"},ce=e("th",{scope:"col",style:{width:"50px"}},[e("div",{class:"form-check"},[e("input",{class:"form-check-input",type:"checkbox",id:"checkAll",value:"option"})])],-1),ue=e("th",{class:"sort","data-sort":"action"},"Action",-1),me={class:"list form-check-all"},he=e("th",{scope:"row"},[e("div",{class:"form-check"},[e("input",{class:"form-check-input",type:"checkbox",name:"chk_child",value:"option1"})])],-1),fe={class:"id",style:{display:"none"}},pe={class:"customer_name"},ve={class:"email"},_e={class:"phone"},be={class:"date"},ge={class:"status"},ye={class:"list-inline hstack gap-2 mb-0"},ke={class:"list-inline-item edit","data-bs-toggle":"tooltip","data-bs-trigger":"hover","data-bs-placement":"top",title:"Edit"},Ce=e("i",{class:"ri-pencil-fill fs-16"},null,-1),Be={class:"list-inline-item","data-bs-toggle":"tooltip","data-bs-trigger":"hover","data-bs-placement":"top",title:"Remove"},xe=e("i",{class:"ri-delete-bin-5-fill fs-16"},null,-1),Me={key:0,class:"noresult"},Le={class:"text-center"},we=e("h5",{class:"mt-2"},"Sorry! No Result Found",-1),Ee=e("p",{class:"text-muted mb-0"}," We've searched more than 150+ customer We did not find any customer for you search. ",-1),Pe={key:0,class:"d-flex justify-content-end"},Se={class:"pagination-wrap hstack gap-2"},Ae={class:"pagination listjs-pagination mb-0"},Ve=["onClick"],De=e("input",{type:"hidden",id:"id-field"},null,-1),Ie=e("div",{class:"mb-3",id:"modal-id",style:{display:"none"}},[e("label",{for:"id-field1",class:"form-label"},"ID"),e("input",{type:"text",id:"idfield1",class:"form-control",placeholder:"ID",readonly:""})],-1),Te={class:"mb-3"},Ue=e("label",{for:"customername-field",class:"form-label"},"Customer Name",-1),He=e("div",{class:"invalid-feedback"},"Please enter a customer name.",-1),Ne={class:"mb-3"},Qe=e("label",{for:"email-field",class:"form-label"},"Email",-1),je=e("div",{class:"invalid-feedback"},"Please enter an email.",-1),Fe={class:"mb-3"},Ye=e("label",{for:"phone-field",class:"form-label"},"Phone",-1),qe=e("div",{class:"invalid-feedback"},"Please enter a phone.",-1),Oe={class:"mb-3"},Re=e("label",{for:"date-field",class:"form-label"},"Joining Date",-1),ze=e("div",{class:"invalid-feedback"},"Please select a date.",-1),We={class:"mb-3"},Je=e("label",{for:"status-field",class:"form-label"},"Status",-1),Ze=e("option",{value:""},"Status",-1),Ge=e("option",{value:"Active"},"Active",-1),Ke=e("option",{value:"Block"},"Block",-1),Xe=[Ze,Ge,Ke],$e=e("div",{class:"invalid-feedback"},"Please select a status.",-1),et={class:"hstack gap-2 justify-content-end"},tt={class:"mt-2 text-center"},st=e("div",{class:"mt-4 pt-2 fs-15 mx-4 mx-sm-5"},[e("h4",null,"Are you sure ?"),e("p",{class:"text-muted mx-4 mb-0"},"Are you sure you want to remove this record ?")],-1),ot={class:"d-flex gap-2 justify-content-center mt-4 mb-2"};function lt(i,s,n,d,t,r){const C=c("Head"),I=c("PageHeader"),m=c("BCol"),v=c("BButton"),y=c("BRow"),T=c("BCardHeader"),x=c("flat-pickr"),U=c("Multiselect"),M=c("b-form"),L=c("BCardBody"),_=c("BLink"),w=c("lottie"),H=c("BCard"),E=c("BModal"),N=c("Layout");return f(),j(N,null,{default:a(()=>[l(C,{title:"Customers"}),l(I,{title:"Customers",pageTitle:"Ecommerce"}),l(y,null,{default:a(()=>[l(m,{lg:"12"},{default:a(()=>[l(H,{"no-body":"",id:"customerList"},{default:a(()=>[l(T,{class:"border-bottom-dashed"},{default:a(()=>[l(y,{class:"g-4 align-items-center"},{default:a(()=>[l(m,{sm:""},{default:a(()=>[X]),_:1}),l(m,{sm:"auto"},{default:a(()=>[e("div",$,[l(v,{variant:"soft-danger",class:"me-1",id:"remove-actions",onClick:r.deleteMultiple},{default:a(()=>[ee]),_:1},8,["onClick"]),l(v,{type:"button",variant:"success",class:"add-btn me-1",id:"create-btn",onClick:r.toggleModal},{default:a(()=>[te,u(" Add Customer ")]),_:1},8,["onClick"]),l(v,{type:"button",variant:"info"},{default:a(()=>[se,u(" Import ")]),_:1})])]),_:1})]),_:1})]),_:1}),l(L,{class:"border-bottom-dashed border-bottom"},{default:a(()=>[l(M,null,{default:a(()=>[l(y,{class:"g-3"},{default:a(()=>[l(m,{xl:"6"},{default:a(()=>[e("div",oe,[g(e("input",{type:"text",class:"form-control search",placeholder:"Search for customer, email, phone, status or something...","onUpdate:modelValue":s[0]||(s[0]=o=>t.searchQuery=o)},null,512),[[k,t.searchQuery]]),le])]),_:1}),l(m,{xl:"6"},{default:a(()=>[l(y,{class:"g-3"},{default:a(()=>[l(m,{sm:"4"},{default:a(()=>[e("div",ie,[l(x,{modelValue:t.date,"onUpdate:modelValue":s[1]||(s[1]=o=>t.date=o),placeholder:"Select date",config:t.rangeDateconfig,class:"form-control"},null,8,["modelValue","config"])])]),_:1}),l(m,{sm:"4"},{default:a(()=>[e("div",null,[l(U,{class:"form-control",modelValue:t.value1,"onUpdate:modelValue":s[2]||(s[2]=o=>t.value1=o),"close-on-select":!0,searchable:!0,"create-option":!0,options:[{value:"",label:"Status",disabled:!0},{value:"All",label:"All"},{value:"Active",label:"Active"},{value:"Block",label:"Block"}]},null,8,["modelValue"])])]),_:1}),l(m,{sm:"4"},{default:a(()=>[e("div",null,[l(v,{type:"button",variant:"primary",class:"w-100",onClick:r.SearchData},{default:a(()=>[ae,u("Filters ")]),_:1},8,["onClick"])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(L,null,{default:a(()=>[e("div",null,[e("div",ne,[e("table",de,[e("thead",re,[e("tr",null,[ce,e("th",{class:"sort","data-sort":"customer_name",onClick:s[3]||(s[3]=o=>r.onSort("customer"))},"Customer"),e("th",{class:"sort","data-sort":"email",onClick:s[4]||(s[4]=o=>r.onSort("email"))},"Email"),e("th",{class:"sort","data-sort":"phone",onClick:s[5]||(s[5]=o=>r.onSort("phone"))},"Phone"),e("th",{class:"sort","data-sort":"date",onClick:s[6]||(s[6]=o=>r.onSort("date"))},"Joining Date"),e("th",{class:"sort","data-sort":"status",onClick:s[7]||(s[7]=o=>r.onSort("status"))},"Status"),ue])]),e("tbody",me,[(f(!0),b(A,null,S(r.resultQuery,(o,B)=>(f(),b("tr",{key:B},[he,e("td",fe,[l(_,{href:"javascript:void(0);",class:"fw-medium link-primary"},{default:a(()=>[u(h(o.customerId),1)]),_:2},1024)]),e("td",pe,h(o.customer),1),e("td",ve,h(o.email),1),e("td",_e,h(o.phone),1),e("td",be,h(o.date),1),e("td",ge,[e("span",{class:p(["badge text-uppercase",{"bg-success-subtle text-success":o.status=="Active","bg-danger-subtle text-danger":o.status=="Block"}])},h(o.status),3)]),e("td",null,[e("ul",ye,[e("li",ke,[l(_,{variant:"text-primary",class:"d-inline-block edit-item-btn",onClick:P=>r.editDetails(o)},{default:a(()=>[Ce]),_:2},1032,["onClick"])]),e("li",Be,[l(_,{class:"text-danger d-inline-block remove-item-btn",onClick:P=>r.deleteModalToggle(o)},{default:a(()=>[xe]),_:2},1032,["onClick"])])])])]))),128))])]),r.resultQuery.length<1?(f(),b("div",Me,[e("div",Le,[l(w,{class:"avatar-xl",colors:"primary:#121331,secondary:#08a88a",options:t.defaultOptions,height:75,width:75},null,8,["options"]),we,Ee])])):V("",!0)]),r.resultQuery.length>=1?(f(),b("div",Pe,[e("div",Se,[l(_,{class:"page-item pagination-prev",href:"#",disabled:t.page<=1,onClick:s[8]||(s[8]=o=>t.page--)},{default:a(()=>[u(" Previous ")]),_:1},8,["disabled"]),e("ul",Ae,[(f(!0),b(A,null,S(t.pages,(o,B)=>(f(),b("li",{class:p({active:o==t.page,disabled:o=="..."}),key:B,onClick:P=>t.page=o},[l(_,{class:"page",href:"#"},{default:a(()=>[u(h(o),1)]),_:2},1024)],10,Ve))),128))]),l(_,{class:"page-item pagination-next",href:"#",onClick:s[9]||(s[9]=o=>t.page++),disabled:t.page>=t.pages.length},{default:a(()=>[u(" Next ")]),_:1},8,["disabled"])])])):V("",!0)])]),_:1})]),_:1})]),_:1})]),_:1}),l(E,{modelValue:t.addCustomerModal,"onUpdate:modelValue":s[16]||(s[16]=o=>t.addCustomerModal=o),id:"showModal","hide-footer":"",title:t.dataEdit?"Edit Customer":"Add Customer","header-class":"p-3 bg-light",class:"v-modal-custom",centered:""},{default:a(()=>[l(M,{action:"#",id:"addform",class:"tablelist-form",autocomplete:"off"},{default:a(()=>[De,Ie,e("div",Te,[Ue,g(e("input",{type:"text",id:"customername",class:p(["form-control",{"is-invalid":t.submitted&&!t.event.customer}]),placeholder:"Enter Name","onUpdate:modelValue":s[10]||(s[10]=o=>t.event.customer=o)},null,2),[[k,t.event.customer]]),He]),e("div",Ne,[Qe,g(e("input",{type:"email",id:"email",class:p(["form-control",{"is-invalid":t.submitted&&!t.event.email}]),placeholder:"Enter Email","onUpdate:modelValue":s[11]||(s[11]=o=>t.event.email=o)},null,2),[[k,t.event.email]]),je]),e("div",Fe,[Ye,g(e("input",{type:"text",id:"phone",class:p(["form-control",{"is-invalid":t.submitted&&!t.event.phone}]),placeholder:"Enter Phone no.","onUpdate:modelValue":s[12]||(s[12]=o=>t.event.phone=o)},null,2),[[k,t.event.phone]]),qe]),e("div",Oe,[Re,l(x,{config:t.config,class:p(["form-control",{"is-invalid":t.submitted&&!t.event.date}]),id:"joindate",modelValue:t.event.date,"onUpdate:modelValue":s[13]||(s[13]=o=>t.event.date=o)},null,8,["config","modelValue","class"]),ze]),e("div",We,[Je,g(e("select",{class:p(["form-control",{"is-invalid":t.submitted&&!t.event.status}]),"data-trigger":"",id:"statusfield","onUpdate:modelValue":s[14]||(s[14]=o=>t.event.status=o)},Xe,2),[[F,t.event.status]]),$e]),e("div",et,[l(v,{type:"button",id:"closemodal",variant:"light",onClick:s[15]||(s[15]=o=>t.addCustomerModal=!1)},{default:a(()=>[u(" Close ")]),_:1}),l(v,{type:"button",variant:"success",onClick:r.handleSubmit},{default:a(()=>[u(h(t.dataEdit?"Update":"Add Customer"),1)]),_:1},8,["onClick"])])]),_:1})]),_:1},8,["modelValue","title"]),l(E,{modelValue:t.deleteModal,"onUpdate:modelValue":s[19]||(s[19]=o=>t.deleteModal=o),"modal-class":"zoomIn","hide-footer":"","no-close-on-backdrop":"",centered:""},{default:a(()=>[e("div",tt,[l(w,{class:"avatar-xl",colors:"primary:#f7b84b,secondary:#f06548",options:t.defaultOptions2,height:100,width:100},null,8,["options"]),st]),e("div",ot,[e("button",{type:"button",class:"btn w-sm btn-light",onClick:s[17]||(s[17]=o=>t.deleteModal=!1)},"Close"),e("button",{type:"button",class:"btn w-sm btn-danger",id:"delete-record",onClick:s[18]||(s[18]=(...o)=>r.deleteData&&r.deleteData(...o))},"Yes, Delete It!")])]),_:1},8,["modelValue"])]),_:1})}const Qt=G(K,[["render",lt]]);export{Qt as default};
