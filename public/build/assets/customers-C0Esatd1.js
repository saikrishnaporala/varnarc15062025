import{Z as F,r as u,c as Q,o as f,w as n,a as o,g as t,f as m,l as y,H as C,d as g,e as S,F as A,h as V,t as p,n as v,I as j}from"./app-BXivYfyE.js";import{L as Y}from"./main-QRBNUtUW.js";import{P as q}from"./page-header-DImAeGsu.js";import{s as O}from"./default-BR3prmPf.js";import{C as R}from"./component-BdyKRgD6.js";/* empty css                  */import{S as D}from"./sweetalert2.esm.all-9Qm2jZ7z.js";import{L as z}from"./lottie-B-oShTwI.js";import{a as W}from"./msoeawqm-Cg0RqasO.js";import{a as J}from"./gsqxdxog-DrHTRIvl.js";import{c as Z}from"./ecommerce-Dvx65K_i.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./helpers-t9rxtgmc.js";import"./simplebar-vue.esm-BtzqPT58.js";import"./logo-sm-Du8Of0Sj.js";import"./logo-dark-Dh5pZxEJ.js";import"./logo-light-DJkTuO8P.js";import"./avatar-2-86M8S3El.js";import"./avatar-3-C_5WlMir.js";import"./avatar-5-DXW8GA-H.js";import"./russia-DqU8AKV7.js";import"./avatar-8-DqJ4kEa5.js";import"./avatar-6-Bb_p0Nhs.js";import"./bell-Dwr83Hdp.js";import"./img-6--SfkIEFV.js";import"./img-7-CvNZ0bh0.js";import"./img-8-B8bh9Knh.js";import"./img-10-wtPdmTw2.js";import"./img-1-CdjoL1YV.js";import"./img-2-BH-bzfG8.js";import"./img-3-DN-aBxcI.js";import"./img-4-hJ5AbXP7.js";import"./img-5-CP8-kZKO.js";import"./img-6-B7vc9TX1.js";import"./img-7-D2rbWVuw.js";import"./img-8-DLGGuBFI.js";const K={data(){return{date1:null,date:null,addCustomerModal:!1,editCustomerModal:!1,rangeDateconfig:{wrap:!0,altFormat:"M j, Y",altInput:!0,dateFormat:"d M, Y",mode:"range"},config:{enableTime:!1,dateFormat:"d M, Y"},searchQuery:null,defaultOptions:{animationData:W},defaultOptions2:{animationData:J},page:1,perPage:8,value:"All",value1:null,pages:[],customerList:Z,submitted:!1,dataEdit:!1,deleteModal:!1,event:{id:"",customer:"",customerId:"",date:"",email:"",phone:"",status:""}}},computed:{displayedPosts(){return this.paginate(this.customerList)},resultQuery(){if(this.searchQuery){const a=this.searchQuery.toLowerCase();return this.displayedPosts.filter(r=>r.customer.toLowerCase().includes(a)||r.email.toLowerCase().includes(a)||r.phone.includes(a)||r.date.toLowerCase().includes(a)||r.status.toLowerCase().includes(a))}else if(this.date!==null){if(this.date!==null)var i=this.date.split(" to ")[0],e=this.date.split(" to ")[1];return this.displayedPosts.filter(a=>new Date(a.date.slice(0,12))>=new Date(i)&&new Date(a.date.slice(0,12))<=new Date(e)?a:null)}else return this.value!==null?this.displayedPosts.filter(a=>a.status===this.value||this.value=="All"?a:null):this.displayedPosts}},created(){this.setPages()},watch:{customerList(){this.setPages()}},filters:{trimWords(i){return i.split(" ").splice(0,20).join(" ")+"..."}},methods:{handleSubmit(){if(this.dataEdit)this.submitted=!0,this.submitted&&this.event.customer&&this.event.email&&this.event.phone&&this.event.date&&this.event.status&&(this.addCustomerModal=!1,this.customerList=this.customerList.map(i=>i.id.toString()==this.event.id.toString()?{...i,...this.event}:i));else if(this.submitted=!0,this.submitted&&this.event.customer&&this.event.email&&this.event.phone&&this.event.date&&this.event.status){const i={id:Math.floor(Math.random()*100+20)-20,customerId:"#VZ2"+(Math.floor(Math.random()*100+20)-20),...this.event};this.customerList=[i,...this.customerList],this.addCustomerModal=!1}},onSort(i){this.direction=this.direction==="asc"?"desc":"asc";const e=[...this.customerList];e.sort((a,r)=>{const s=a[i]<r[i]?-1:a[i]>r[i]?1:0;return this.direction==="asc"?s:-s}),this.customerList=e},editDetails(i){this.dataEdit=!0,this.addCustomerModal=!0,this.event={...i},this.submitted=!1},toggleModal(){this.addCustomerModal=!0,this.dataEdit=!1,this.event={},this.submitted=!1},deleteModalToggle(i){this.deleteModal=!0,this.event.id=i.id},deleteData(){this.event.id&&(this.customerList=this.customerList.filter(i=>i.id!=this.event.id),this.deleteModal=!1)},setPages(){let i=Math.ceil(this.customerList.length/this.perPage);this.pages=[];for(let e=1;e<=i;e++)this.pages.push(e)},paginate(i){let e=this.page,a=this.perPage,r=e*a-a,s=e*a;return i.slice(r,s)},deleteMultiple(){let i=[];var e=document.getElementsByName("chk_child");e.forEach(function(a){if(a.checked==!0){var r=a.parentNode.parentNode.parentNode,s=r.querySelector(".id a").innerHTML;i.push(s)}}),typeof i<"u"&&i.length>0?D.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,cancelButtonColor:"#f46a6a",confirmButtonColor:"#34c38f",confirmButtonText:"Yes, delete it!"}).then(a=>{if(a.value){var r=this.customerList;i.forEach(function(d){r=r.filter(function(_){return _.customerId!=d})}),this.customerList=r,document.getElementById("checkAll").checked=!1;var s=document.getElementsByName("chk_child");s.forEach(function(d){d.checked==!0&&(d.checked=!1,d.closest("tr").classList.remove("table-active"))})}}):D.fire({title:"Please select at least one checkbox",confirmButtonClass:"btn btn-info",buttonsStyling:!0,showCloseButton:!0})},SearchData(){this.value=this.value1}},mounted(){var i=document.getElementById("checkAll");i&&(i.onclick=function(){var a=document.querySelectorAll('.form-check-all input[type="checkbox"]');i.checked==!0?a.forEach(function(r){r.checked=!0,r.closest("tr").classList.add("table-active"),document.getElementById("remove-actions").style.display="block"}):a.forEach(function(r){r.checked=!1,r.closest("tr").classList.remove("table-active"),document.getElementById("remove-actions").style.display="none"})});var e=document.querySelectorAll("#customerTable .form-check-input");Array.from(e).forEach(function(a){a.addEventListener("change",function(r){var s=document.querySelectorAll("#customerTable .form-check-input:checked").length;r.target.closest("tr").classList.contains("table-active"),s>0?document.getElementById("remove-actions").style.display="block":document.getElementById("remove-actions").style.display="none"})})},components:{Layout:Y,PageHeader:q,lottie:z,Multiselect:O,flatPickr:R,Head:F}},X={class:"d-flex flex-wrap align-items-start gap-2"},$={class:"search-box"},ee={class:""},te={class:"table-responsive table-card mb-1"},se={class:"table align-middle",id:"customerTable"},le={class:"table-light text-muted"},oe={class:"list form-check-all"},ie={class:"id",style:{display:"none"}},ne={class:"customer_name"},ae={class:"email"},re={class:"phone"},de={class:"date"},ue={class:"status"},me={class:"list-inline hstack gap-2 mb-0"},ce={class:"list-inline-item edit","data-bs-toggle":"tooltip","data-bs-trigger":"hover","data-bs-placement":"top",title:"Edit"},pe={class:"list-inline-item","data-bs-toggle":"tooltip","data-bs-trigger":"hover","data-bs-placement":"top",title:"Remove"},fe={key:0,class:"noresult"},ve={class:"text-center"},he={key:0,class:"d-flex justify-content-end"},be={class:"pagination-wrap hstack gap-2"},ge={class:"pagination listjs-pagination mb-0"},ye=["onClick"],ke={class:"mb-3"},Ce={class:"mb-3"},_e={class:"mb-3"},Be={class:"mb-3"},xe={class:"mb-3"},Me={class:"hstack gap-2 justify-content-end"},Le={class:"mt-2 text-center"},we={class:"d-flex gap-2 justify-content-center mt-4 mb-2"};function Ee(i,e,a,r,s,d){const _=u("Head"),I=u("PageHeader"),c=u("BCol"),h=u("BButton"),k=u("BRow"),T=u("BCardHeader"),x=u("flat-pickr"),U=u("Multiselect"),M=u("BForm"),L=u("BCardBody"),b=u("BLink"),w=u("lottie"),H=u("BCard"),E=u("BModal"),N=u("Layout");return f(),Q(N,null,{default:n(()=>[o(_,{title:"Customers"}),o(I,{title:"Customers",pageTitle:"Ecommerce"}),o(k,null,{default:n(()=>[o(c,{lg:"12"},{default:n(()=>[o(H,{"no-body":"",id:"customerList"},{default:n(()=>[o(T,{class:"border-bottom-dashed"},{default:n(()=>[o(k,{class:"g-4 align-items-center"},{default:n(()=>[o(c,{sm:""},{default:n(()=>e[20]||(e[20]=[t("div",null,[t("h5",{class:"card-title mb-0"},"Customer List")],-1)])),_:1,__:[20]}),o(c,{sm:"auto"},{default:n(()=>[t("div",X,[o(h,{variant:"soft-danger",class:"me-1",id:"remove-actions",onClick:d.deleteMultiple},{default:n(()=>e[21]||(e[21]=[t("i",{class:"ri-delete-bin-2-line"},null,-1)])),_:1,__:[21]},8,["onClick"]),o(h,{type:"button",variant:"success",class:"add-btn me-1",id:"create-btn",onClick:d.toggleModal},{default:n(()=>e[22]||(e[22]=[t("i",{class:"ri-add-line align-bottom me-1"},null,-1),m(" Add Customer ")])),_:1,__:[22]},8,["onClick"]),o(h,{type:"button",variant:"info"},{default:n(()=>e[23]||(e[23]=[t("i",{class:"ri-file-download-line align-bottom me-1"},null,-1),m(" Import ")])),_:1,__:[23]})])]),_:1})]),_:1})]),_:1}),o(L,{class:"border-bottom-dashed border-bottom"},{default:n(()=>[o(M,null,{default:n(()=>[o(k,{class:"g-3"},{default:n(()=>[o(c,{xl:"6"},{default:n(()=>[t("div",$,[y(t("input",{type:"text",class:"form-control search",placeholder:"Search for customer, email, phone, status or something...","onUpdate:modelValue":e[0]||(e[0]=l=>s.searchQuery=l)},null,512),[[C,s.searchQuery]]),e[24]||(e[24]=t("i",{class:"ri-search-line search-icon"},null,-1))])]),_:1}),o(c,{xl:"6"},{default:n(()=>[o(k,{class:"g-3"},{default:n(()=>[o(c,{sm:"4"},{default:n(()=>[t("div",ee,[o(x,{modelValue:s.date,"onUpdate:modelValue":e[1]||(e[1]=l=>s.date=l),placeholder:"Select date",config:s.rangeDateconfig,class:"form-control"},null,8,["modelValue","config"])])]),_:1}),o(c,{sm:"4"},{default:n(()=>[t("div",null,[o(U,{class:"form-control",modelValue:s.value1,"onUpdate:modelValue":e[2]||(e[2]=l=>s.value1=l),"close-on-select":!0,searchable:!0,"create-option":!0,options:[{value:"",label:"Status",disabled:!0},{value:"All",label:"All"},{value:"Active",label:"Active"},{value:"Block",label:"Block"}]},null,8,["modelValue"])])]),_:1}),o(c,{sm:"4"},{default:n(()=>[t("div",null,[o(h,{type:"button",variant:"primary",class:"w-100",onClick:d.SearchData},{default:n(()=>e[25]||(e[25]=[t("i",{class:"ri-equalizer-fill me-2 align-bottom"},null,-1),m("Filters ")])),_:1,__:[25]},8,["onClick"])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),o(L,null,{default:n(()=>[t("div",null,[t("div",te,[t("table",se,[t("thead",le,[t("tr",null,[e[26]||(e[26]=t("th",{scope:"col",style:{width:"50px"}},[t("div",{class:"form-check"},[t("input",{class:"form-check-input",type:"checkbox",id:"checkAll",value:"option"})])],-1)),t("th",{class:"sort","data-sort":"customer_name",onClick:e[3]||(e[3]=l=>d.onSort("customer"))},"Customer"),t("th",{class:"sort","data-sort":"email",onClick:e[4]||(e[4]=l=>d.onSort("email"))},"Email"),t("th",{class:"sort","data-sort":"phone",onClick:e[5]||(e[5]=l=>d.onSort("phone"))},"Phone"),t("th",{class:"sort","data-sort":"date",onClick:e[6]||(e[6]=l=>d.onSort("date"))},"Joining Date"),t("th",{class:"sort","data-sort":"status",onClick:e[7]||(e[7]=l=>d.onSort("status"))},"Status"),e[27]||(e[27]=t("th",{class:"sort","data-sort":"action"},"Action",-1))])]),t("tbody",oe,[(f(!0),g(A,null,V(d.resultQuery,(l,B)=>(f(),g("tr",{key:B},[e[30]||(e[30]=t("th",{scope:"row"},[t("div",{class:"form-check"},[t("input",{class:"form-check-input",type:"checkbox",name:"chk_child",value:"option1"})])],-1)),t("td",ie,[o(b,{href:"javascript:void(0);",class:"fw-medium link-primary"},{default:n(()=>[m(p(l.customerId),1)]),_:2},1024)]),t("td",ne,p(l.customer),1),t("td",ae,p(l.email),1),t("td",re,p(l.phone),1),t("td",de,p(l.date),1),t("td",ue,[t("span",{class:v(["badge text-uppercase",{"bg-success-subtle text-success":l.status=="Active","bg-danger-subtle text-danger":l.status=="Block"}])},p(l.status),3)]),t("td",null,[t("ul",me,[t("li",ce,[o(b,{variant:"text-primary",class:"d-inline-block edit-item-btn",onClick:P=>d.editDetails(l)},{default:n(()=>e[28]||(e[28]=[t("i",{class:"ri-pencil-fill fs-16"},null,-1)])),_:2,__:[28]},1032,["onClick"])]),t("li",pe,[o(b,{class:"text-danger d-inline-block remove-item-btn",onClick:P=>d.deleteModalToggle(l)},{default:n(()=>e[29]||(e[29]=[t("i",{class:"ri-delete-bin-5-fill fs-16"},null,-1)])),_:2,__:[29]},1032,["onClick"])])])])]))),128))])]),d.resultQuery.length<1?(f(),g("div",fe,[t("div",ve,[o(w,{class:"avatar-xl",colors:"primary:#121331,secondary:#08a88a",options:s.defaultOptions,height:75,width:75},null,8,["options"]),e[31]||(e[31]=t("h5",{class:"mt-2"},"Sorry! No Result Found",-1)),e[32]||(e[32]=t("p",{class:"text-muted mb-0"}," We've searched more than 150+ customer We did not find any customer for you search. ",-1))])])):S("",!0)]),d.resultQuery.length>=1?(f(),g("div",he,[t("div",be,[o(b,{class:"page-item pagination-prev",href:"#",disabled:s.page<=1,onClick:e[8]||(e[8]=l=>s.page--)},{default:n(()=>e[33]||(e[33]=[m(" Previous ")])),_:1,__:[33]},8,["disabled"]),t("ul",ge,[(f(!0),g(A,null,V(s.pages,(l,B)=>(f(),g("li",{class:v({active:l==s.page,disabled:l=="..."}),key:B,onClick:P=>s.page=l},[o(b,{class:"page",href:"#"},{default:n(()=>[m(p(l),1)]),_:2},1024)],10,ye))),128))]),o(b,{class:"page-item pagination-next",href:"#",onClick:e[9]||(e[9]=l=>s.page++),disabled:s.page>=s.pages.length},{default:n(()=>e[34]||(e[34]=[m(" Next ")])),_:1,__:[34]},8,["disabled"])])])):S("",!0)])]),_:1})]),_:1})]),_:1})]),_:1}),o(E,{modelValue:s.addCustomerModal,"onUpdate:modelValue":e[16]||(e[16]=l=>s.addCustomerModal=l),id:"showModal","hide-footer":"",title:s.dataEdit?"Edit Customer":"Add Customer","header-class":"p-3 bg-light",class:"v-modal-custom",centered:""},{default:n(()=>[o(M,{action:"#",id:"addform",class:"tablelist-form",autocomplete:"off"},{default:n(()=>[e[47]||(e[47]=t("input",{type:"hidden",id:"id-field"},null,-1)),e[48]||(e[48]=t("div",{class:"mb-3",id:"modal-id",style:{display:"none"}},[t("label",{for:"id-field1",class:"form-label"},"ID"),t("input",{type:"text",id:"idfield1",class:"form-control",placeholder:"ID",readonly:""})],-1)),t("div",ke,[e[35]||(e[35]=t("label",{for:"customername-field",class:"form-label"},"Customer Name",-1)),y(t("input",{type:"text",id:"customername",class:v(["form-control",{"is-invalid":s.submitted&&!s.event.customer}]),placeholder:"Enter Name","onUpdate:modelValue":e[10]||(e[10]=l=>s.event.customer=l)},null,2),[[C,s.event.customer]]),e[36]||(e[36]=t("div",{class:"invalid-feedback"},"Please enter a customer name.",-1))]),t("div",Ce,[e[37]||(e[37]=t("label",{for:"email-field",class:"form-label"},"Email",-1)),y(t("input",{type:"email",id:"email",class:v(["form-control",{"is-invalid":s.submitted&&!s.event.email}]),placeholder:"Enter Email","onUpdate:modelValue":e[11]||(e[11]=l=>s.event.email=l)},null,2),[[C,s.event.email]]),e[38]||(e[38]=t("div",{class:"invalid-feedback"},"Please enter an email.",-1))]),t("div",_e,[e[39]||(e[39]=t("label",{for:"phone-field",class:"form-label"},"Phone",-1)),y(t("input",{type:"text",id:"phone",class:v(["form-control",{"is-invalid":s.submitted&&!s.event.phone}]),placeholder:"Enter Phone no.","onUpdate:modelValue":e[12]||(e[12]=l=>s.event.phone=l)},null,2),[[C,s.event.phone]]),e[40]||(e[40]=t("div",{class:"invalid-feedback"},"Please enter a phone.",-1))]),t("div",Be,[e[41]||(e[41]=t("label",{for:"date-field",class:"form-label"},"Joining Date",-1)),o(x,{config:s.config,class:v(["form-control",{"is-invalid":s.submitted&&!s.event.date}]),id:"joindate",modelValue:s.event.date,"onUpdate:modelValue":e[13]||(e[13]=l=>s.event.date=l)},null,8,["config","modelValue","class"]),e[42]||(e[42]=t("div",{class:"invalid-feedback"},"Please select a date.",-1))]),t("div",xe,[e[44]||(e[44]=t("label",{for:"status-field",class:"form-label"},"Status",-1)),y(t("select",{class:v(["form-control",{"is-invalid":s.submitted&&!s.event.status}]),"data-trigger":"",id:"statusfield","onUpdate:modelValue":e[14]||(e[14]=l=>s.event.status=l)},e[43]||(e[43]=[t("option",{value:""},"Status",-1),t("option",{value:"Active"},"Active",-1),t("option",{value:"Block"},"Block",-1)]),2),[[j,s.event.status]]),e[45]||(e[45]=t("div",{class:"invalid-feedback"},"Please select a status.",-1))]),t("div",Me,[o(h,{type:"button",id:"closemodal",variant:"light",onClick:e[15]||(e[15]=l=>s.addCustomerModal=!1)},{default:n(()=>e[46]||(e[46]=[m(" Close ")])),_:1,__:[46]}),o(h,{type:"button",variant:"success",onClick:d.handleSubmit},{default:n(()=>[m(p(s.dataEdit?"Update":"Add Customer"),1)]),_:1},8,["onClick"])])]),_:1,__:[47,48]})]),_:1},8,["modelValue","title"]),o(E,{modelValue:s.deleteModal,"onUpdate:modelValue":e[19]||(e[19]=l=>s.deleteModal=l),"modal-class":"zoomIn","hide-footer":"","no-close-on-backdrop":"",centered:""},{default:n(()=>[t("div",Le,[o(w,{class:"avatar-xl",colors:"primary:#f7b84b,secondary:#f06548",options:s.defaultOptions2,height:100,width:100},null,8,["options"]),e[49]||(e[49]=t("div",{class:"mt-4 pt-2 fs-15 mx-4 mx-sm-5"},[t("h4",null,"Are you sure ?"),t("p",{class:"text-muted mx-4 mb-0"},"Are you sure you want to remove this record ?")],-1))]),t("div",we,[t("button",{type:"button",class:"btn w-sm btn-light",onClick:e[17]||(e[17]=l=>s.deleteModal=!1)},"Close"),t("button",{type:"button",class:"btn w-sm btn-danger",id:"delete-record",onClick:e[18]||(e[18]=(...l)=>d.deleteData&&d.deleteData(...l))},"Yes, Delete It!")])]),_:1},8,["modelValue"])]),_:1})}const mt=G(K,[["render",Ee]]);export{mt as default};
