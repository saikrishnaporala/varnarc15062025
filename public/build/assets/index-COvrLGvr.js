import{Z as W,r as m,c as I,o as c,w as a,a as o,g as t,f,d as v,F as V,h as D,n as k,t as u,k as q,l as p,e as b,I as P,H as _}from"./app-BXivYfyE.js";import{h as U}from"./moment-C5S46NFB.js";import{S}from"./sweetalert2.esm.all-9Qm2jZ7z.js";import{s as Y}from"./simplebar-vue.esm-BtzqPT58.js";import{d as O}from"./vue-feather-icons.es-BpI0yZBQ.js";import{C as j}from"./component-BdyKRgD6.js";/* empty css                  */import{F as R,E as J,c as Z,I as z,i as K,a as Q,b as X,d as $,e as ee}from"./utils-Bwta7kp0.js";import{c as M,r as E}from"./index-CubN2OlY.js";import{u as te}from"./index-CGEOWZP_.js";import{L as se}from"./main-QRBNUtUW.js";import{P as ie}from"./page-header-DImAeGsu.js";import{_ as ne}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./helpers-t9rxtgmc.js";import"./logo-sm-Du8Of0Sj.js";import"./logo-dark-Dh5pZxEJ.js";import"./logo-light-DJkTuO8P.js";import"./avatar-2-86M8S3El.js";import"./avatar-3-C_5WlMir.js";import"./avatar-5-DXW8GA-H.js";import"./russia-DqU8AKV7.js";import"./avatar-8-DqJ4kEa5.js";import"./avatar-6-Bb_p0Nhs.js";import"./bell-Dwr83Hdp.js";const le={setup(){return{v$:te()}},validations:{event:{title:{required:M.withMessage("Title is required",E)},category:{required:M.withMessage("Category is required",E)},location:{required:M.withMessage("Location is required",E)},descri:{required:M.withMessage("Descri is required",E)}}},data(){return{calendarOptions:{timeZone:"local",droppable:!0,navLinks:!0,plugins:[K,Q,X,$,ee],themeSystem:"bootstrap",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listMonth"},windowResize:()=>{this.getInitialView()},initialView:this.getInitialView(),initialEvents:z,editable:!0,selectable:!0,selectMirror:!0,dayMaxEvents:!0,weekends:!0,dateClick:this.dateClicked,eventClick:this.editEvent,eventsSet:this.handleEvents},currentEvents:[],showModal:!1,eventModal:!1,eventEditModal:!1,categories:Z,submitted:!1,submit:!1,newEventData:{},edit:{},deleteId:{},event:{title:"",category:"",location:"",descri:"",date:""},editevent:{editTitle:"",editcategory:"",editlocation:"",editdescri:"",editdates:"",editcalendardates:""},config:{wrap:!0,altFormat:"M j, Y",altInput:!0,dateFormat:"d M, Y",mode:"range"},timeConfig:{enableTime:!1,altInput:!0,dateFormat:"Z",altFormat:"d M, Y",mode:"range"},date2:null}},components:{Layout:se,PageHeader:ie,FullCalendar:R,CalendarIcon:O,flatPickr:j,simpleBar:Y,Head:W},mounted(){new J(document.getElementById("external-events"),{itemSelector:".external-event",eventData:function(n){return{title:n.innerText,start:new Date,className:n.getAttribute("data-class")}}})},methods:{formatDate(n){var e=["January","February","March","April","May","June","July","August","September","October","November","December"],d=new Date(n),l=""+e[d.getMonth()].slice(0,3),i=""+d.getDate(),r=d.getFullYear();return l.length<2&&(l="0"+l),i.length<2&&(i="0"+i),[i+" "+l,r].join(" ")},dateStamp(n,e){let d;return e==null?d=this.formatDate(n):d=this.formatDate(n)+" - "+this.formatDate(e),d},formatTime(n){if(n=new Date(n),n.getHours()!=null){let e=n.getHours(),d=n.getMinutes()?n.getMinutes():"00",l=e>=12?"PM":"AM";return e=e%12,e=e||12,d=d<10&&d!=0?"0"+d:d,e+":"+d+" "+l}},timeStamp(n,e){let d;return this.formatTime(n)==this.formatTime(e)?d="Full day event":d=this.formatTime(n)+" - "+this.formatTime(e),d},getInitialView(){return window.innerWidth>=768&&window.innerWidth<1200?"timeGridWeek":window.innerWidth<=768?"listMonth":"dayGridMonth"},handleSubmit(n){if(this.submitted=!0,this.v$.$touch(),!this.v$.$invalid){{const e=this.event.title,d=this.event.category,l=this.$refs.fullCalendar.getApi(),i=this.event.location,r=this.event.descri,g=this.event.date.split(" ").filter(x=>x!=="to"),y=g[0],h=g[1];l.addEvent({id:Math.floor(Math.random()*100+20)-20,title:e,start:y,end:h,classNames:d,extendedProps:{department:"All Day Event",location:i,description:r}}),this.successmsg(),this.showModal=!1,this.newEventData={}}this.submitted=!1,this.event={}}},hideModal(n){this.submitted=!1,this.showModal=!1,this.event={}},editSubmit(n){this.submit=!0;const e=this.editevent.editTitle,d=this.editevent.editcategory,l=this.editevent.editlocation,i=this.editevent.editdescri,r=this.editevent.editcalendardates.split(" ").filter(h=>h!=="to"),g=r[0],y=r[1];this.edit.setProp("title",e),this.edit.setProp("classNames",d),this.edit.setStart(g),this.edit.setEnd(y),this.edit.setExtendedProp("location",l),this.edit.setExtendedProp("description",i),this.successmsg(),this.eventModal=!1,this.eventEditModal=!1},deleteEvent(){this.edit.remove(),this.eventModal=!1,this.eventEditModal=!1},dateClicked(n){this.newEventData=n,this.showModal=!0},editEvent(n){this.edit=n.event,this.editevent.editTitle=this.edit.title,this.editevent.editcategory=this.edit.classNames,this.editevent.editlocation=this.edit.extendedProps.location,this.editevent.editdescri=this.edit.extendedProps.description,this.editevent.editdates=this.dateStamp(this.edit.start,this.edit.end),this.editevent.editcalendardates=U(this.edit.start).toISOString()+" to "+U(this.edit.end?this.edit.end:this.edit.start).toISOString(),this.eventModal=!0},closeModal(){this.eventModal=!1,this.eventEditModal=!1},confirm(){S.fire({title:"Are you sure?",text:"You won't be able to delete this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#34c38f",cancelButtonColor:"#f46a6a",confirmButtonText:"Yes, delete it!"}).then(n=>{n.value&&(this.deleteEvent(),S.fire("Deleted!","Event has been deleted.","success"))})},handleEvents(n){this.currentEvents=n.reverse()},successmsg(){S.fire({position:"center",icon:"success",title:"Event has been saved",showConfirmButton:!1,timer:1e3})}}},oe={class:"d-flex mb-3"},de={class:"flex-grow-1"},ae={class:"fw-medium"},re={class:"flex-shrink-0"},ce={class:"card-title fs-16"},me={class:"text-muted text-truncate-two-lines mb-0"},ve={class:"d-flex"},ue={class:"flex-shrink-0"},fe={class:"row event-form"},pe={class:"col-12"},be={class:"mb-3"},he=["value"],ge={key:0,class:"invalid-feedback"},xe={key:0},_e={class:"col-12"},ye={class:"mb-3"},ke={key:0,class:"invalid-feedback"},we={key:0},Me={class:"col-12"},Ee={class:"mb-3"},Ce={class:"input-group"},Be={class:"col-12"},Ve={class:"mb-3"},De={key:0,class:"invalid-feedback"},Se={key:0},Te={class:"col-12"},Ne={class:"mb-3"},Ie={key:0,class:"invalid-feedback"},qe={key:0},Pe={class:"text-end pt-3"},Ue={class:"text-end"},Fe={class:"event-details"},Ae={class:"d-flex mb-2"},Le={class:"flex-grow-1 d-flex align-items-center"},He={class:"flex-grow-1"},Ge={class:"d-block fw-semibold mb-0",id:"event-start-date-tag"},We={class:"d-flex align-items-center mb-2"},Ye={class:"flex-grow-1"},Oe={class:"d-block fw-semibold mb-0"},je={id:"event-location-tag"},Re={class:"d-flex mb-3"},Je={class:"flex-grow-1"},Ze={class:"d-block text-muted mb-0",id:"event-description-tag"},ze={class:"hstack gap-2 justify-content-end"},Ke={class:"row event-form"},Qe={class:"col-12"},Xe={class:"mb-3"},$e=["value"],et={class:"col-12"},tt={class:"mb-3"},st={class:"col-12"},it={class:"mb-3"},nt={class:"input-group"},lt={class:"col-12"},ot={class:"mb-3"},dt={class:"col-12"},at={class:"mb-3"},rt={class:"hstack gap-2 justify-content-end"};function ct(n,e,d,l,i,r){const g=m("Head"),y=m("PageHeader"),h=m("BButton"),x=m("BCardBody"),w=m("BCard"),F=m("BBadge"),A=m("simpleBar"),L=m("CalendarIcon"),C=m("BCol"),H=m("FullCalendar"),T=m("BRow"),N=m("flat-pickr"),B=m("BModal"),G=m("Layout");return c(),I(G,null,{default:a(()=>[o(g,{title:"Calendar"}),o(y,{title:"Calendar",pageTitle:"Apps"}),o(T,null,{default:a(()=>[o(C,{cols:"12"},{default:a(()=>[o(T,null,{default:a(()=>[o(C,{xl:"3"},{default:a(()=>[o(w,{"no-body":"",class:"card-h-100"},{default:a(()=>[o(x,null,{default:a(()=>[o(h,{variant:"primary",class:"w-100",id:"btn-new-event",onClick:e[0]||(e[0]=s=>i.showModal=!0)},{default:a(()=>e[19]||(e[19]=[t("i",{class:"mdi mdi-plus"},null,-1),f(" Create New Event ")])),_:1,__:[19]}),e[20]||(e[20]=t("div",{id:"external-events"},[t("br"),t("p",{class:"text-muted"}," Drag and drop your event or click in the calendar "),t("div",{class:"external-event fc-event bg-success-subtle text-success","data-class":"bg-success-subtle"},[t("i",{class:"mdi mdi-checkbox-blank-circle me-2"}),f("New Event Planning ")]),t("div",{class:"external-event fc-event bg-info-subtle text-info","data-class":"bg-info-subtle"},[t("i",{class:"mdi mdi-checkbox-blank-circle me-2"}),f("Meeting ")]),t("div",{class:"external-event fc-event bg-warning-subtle text-warning","data-class":"bg-warning-subtle"},[t("i",{class:"mdi mdi-checkbox-blank-circle me-2"}),f("Generating Reports ")]),t("div",{class:"external-event fc-event bg-danger-subtle text-danger","data-class":"bg-danger-subtle"},[t("i",{class:"mdi mdi-checkbox-blank-circle me-2"}),f("Create New theme ")])],-1))]),_:1,__:[20]})]),_:1}),t("div",null,[e[21]||(e[21]=t("h5",{class:"mb-1"},"Upcoming Events",-1)),e[22]||(e[22]=t("p",{class:"text-muted"},"Don't miss scheduled events",-1)),o(A,{class:"upcoming-events pe-2 me-n1 mb-3","data-simplebar":"init",style:{height:"400px"}},{default:a(()=>[(c(!0),v(V,null,D(i.currentEvents,s=>(c(),I(w,{"no-body":"",class:"mb-3",key:s.id},{default:a(()=>[o(x,null,{default:a(()=>[t("div",oe,[t("div",de,[t("i",{class:k(`mdi mdi-checkbox-blank-circle me-2 ${s.classNames}`)},null,2),t("span",ae,u(this.dateStamp(s.start,s.end)),1)]),t("div",re,[o(F,{tag:"small",variant:"primary-subtle",class:"bg-primary-subtle text-primary ms-auto"},{default:a(()=>[f(u(this.timeStamp(s.start,s.end)),1)]),_:2},1024)])]),t("h6",ce,u(s.title),1),t("p",me,u(s.extendedProps&&s.extendedProps.description?s.extendedProps.description:"N.A."),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),o(w,{"no-body":""},{default:a(()=>[o(x,{class:"bg-info-subtle"},{default:a(()=>[t("div",ve,[t("div",ue,[o(L,{class:"text-info icon-dual-info"})]),e[23]||(e[23]=t("div",{class:"flex-grow-1 ms-3"},[t("h6",{class:"fs-15"},"Welcome to your Calendar!"),t("p",{class:"text-muted mb-0"}," Event that applications book will appear here. Click on an event to see the details and manage applicants event. ")],-1))])]),_:1})]),_:1})]),_:1}),o(C,{xl:"9"},{default:a(()=>[o(w,{"no-body":"",class:"card-h-100"},{default:a(()=>[o(x,null,{default:a(()=>[o(H,{ref:"fullCalendar",options:i.calendarOptions},null,8,["options"])]),_:1})]),_:1})]),_:1})]),_:1}),e[24]||(e[24]=t("div",{style:{clear:"both"}},null,-1))]),_:1,__:[24]})]),_:1}),o(B,{modelValue:i.showModal,"onUpdate:modelValue":e[7]||(e[7]=s=>i.showModal=s),title:"Add New Event","body-class":"p-4","header-class":"p-3 bg-info-subtle","hide-footer":"",class:"v-modal-custom",centered:""},{default:a(()=>[t("form",{onSubmit:e[6]||(e[6]=q((...s)=>r.handleSubmit&&r.handleSubmit(...s),["prevent"])),name:"event-form",id:"form-event"},[e[34]||(e[34]=t("div",{class:"text-end"},[t("a",{href:"#",class:"btn btn-sm btn-soft-primary",id:"edit-event-btn","data-id":"new-event",onclick:"editEvent(this)",role:"button",hidden:"true"},"Edit")],-1)),t("div",fe,[t("div",pe,[t("div",be,[e[25]||(e[25]=t("label",{class:"form-label"},"Type",-1)),p(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>i.event.category=s),class:k(["form-control",{"is-invalid":i.submitted&&l.v$.event.category.errors}]),name:"category"},[(c(!0),v(V,null,D(i.categories,s=>(c(),v("option",{key:s.backgroundColor,value:`${s.value}`},u(s.name),9,he))),128))],2),[[P,i.event.category]]),i.submitted&&l.v$.event.category.$error?(c(),v("div",ge,[l.v$.event.category.required.$message?(c(),v("span",xe,u(l.v$.event.category.required.$message),1)):b("",!0)])):b("",!0)])]),t("div",_e,[t("div",ye,[e[26]||(e[26]=t("label",{class:"form-label"},"Event Name",-1)),p(t("input",{id:"name","onUpdate:modelValue":e[2]||(e[2]=s=>i.event.title=s),type:"text",class:k(["form-control",{"is-invalid":i.submitted&&l.v$.event.title.$error}]),placeholder:"Insert Event name"},null,2),[[_,i.event.title]]),i.submitted&&l.v$.event.title.$error?(c(),v("div",ke,[l.v$.event.title.required.$message?(c(),v("span",we,u(l.v$.event.title.required.$message),1)):b("",!0)])):b("",!0)])]),t("div",Me,[t("div",Ee,[e[28]||(e[28]=t("label",null,"Event Date",-1)),t("div",Ce,[o(N,{placeholder:"Select date",modelValue:i.event.date,"onUpdate:modelValue":e[3]||(e[3]=s=>i.event.date=s),config:i.timeConfig,class:"form-control flatpickr-input",id:"caledate"},null,8,["modelValue","config"]),e[27]||(e[27]=t("span",{class:"input-group-text"},[t("i",{class:"ri-calendar-event-line"})],-1))])])]),t("div",Be,[t("div",Ve,[e[29]||(e[29]=t("label",{for:"event-location"},"Location",-1)),t("div",null,[p(t("input",{type:"text",class:k(["form-control d-block",{"is-invalid":i.submitted&&l.v$.event.location.$error}]),"onUpdate:modelValue":e[4]||(e[4]=s=>i.event.location=s),name:"event-location",id:"event-location",placeholder:"Event location"},null,2),[[_,i.event.location]]),i.submitted&&l.v$.event.location.$error?(c(),v("div",De,[l.v$.event.location.required.$message?(c(),v("span",Se,u(l.v$.event.location.required.$message),1)):b("",!0)])):b("",!0)])])]),e[31]||(e[31]=t("input",{type:"hidden",id:"eventid",name:"eventid",value:""},null,-1)),t("div",Te,[t("div",Ne,[e[30]||(e[30]=t("label",{class:"form-label"},"Description",-1)),p(t("textarea",{class:k(["form-control d-block",{"is-invalid":i.submitted&&l.v$.event.descri.$error}]),id:"event-description","onUpdate:modelValue":e[5]||(e[5]=s=>i.event.descri=s),placeholder:"Enter a description",rows:"3",spellcheck:"false"},null,2),[[_,i.event.descri]]),i.submitted&&l.v$.event.descri.$error?(c(),v("div",Ie,[l.v$.event.descri.required.$message?(c(),v("span",qe,u(l.v$.event.descri.required.$message),1)):b("",!0)])):b("",!0)])])]),t("div",Pe,[o(h,{variant:"light",onClick:r.hideModal},{default:a(()=>e[32]||(e[32]=[f("Close")])),_:1,__:[32]},8,["onClick"]),o(h,{type:"submit",variant:"success",class:"ms-1"},{default:a(()=>e[33]||(e[33]=[f("Create event")])),_:1,__:[33]})])],32)]),_:1},8,["modelValue"]),o(B,{modelValue:i.eventModal,"onUpdate:modelValue":e[10]||(e[10]=s=>i.eventModal=s),title:this.editevent.editTitle,"hide-footer":"","body-class":"p-4","header-class":"p-3 bg-info-subtle",class:"v-modal-custom",centered:""},{default:a(()=>[t("div",Ue,[t("a",{href:"#",class:"btn btn-sm btn-soft-primary",id:"edit-event-btn","data-id":"edit-event",role:"button",onClick:e[8]||(e[8]=s=>(this.eventEditModal=!0,this.eventModal=!1))},"Edit")]),t("div",Fe,[t("div",Ae,[t("div",Le,[e[35]||(e[35]=t("div",{class:"flex-shrink-0 me-3"},[t("i",{class:"ri-calendar-event-line text-muted fs-16"})],-1)),t("div",He,[t("h6",Ge,u(this.editevent.editdates),1)])])]),e[38]||(e[38]=t("div",{class:"d-flex align-items-center mb-2"},[t("div",{class:"flex-shrink-0 me-3"},[t("i",{class:"ri-time-line text-muted fs-16"})]),t("div",{class:"flex-grow-1"},[t("h6",{class:"d-block fw-semibold mb-0"},[t("span",{id:"event-timepicker1-tag"}),f(" - "),t("span",{id:"event-timepicker2-tag"})])])],-1)),t("div",We,[e[36]||(e[36]=t("div",{class:"flex-shrink-0 me-3"},[t("i",{class:"ri-map-pin-line text-muted fs-16"})],-1)),t("div",Ye,[t("h6",Oe,[t("span",je,u(this.editevent.editlocation||"No Location"),1)])])]),t("div",Re,[e[37]||(e[37]=t("div",{class:"flex-shrink-0 me-3"},[t("i",{class:"ri-discuss-line text-muted fs-16"})],-1)),t("div",Je,[t("p",Ze,u(this.editevent.editdescri||"N.A."),1)])])]),t("div",ze,[t("button",{type:"button",class:"btn btn-soft-danger",id:"btn-delete-event",onClick:e[9]||(e[9]=(...s)=>r.confirm&&r.confirm(...s))},e[39]||(e[39]=[t("i",{class:"ri-close-line align-bottom"},null,-1),f(" Delete")]))])]),_:1},8,["modelValue","title"]),o(B,{modelValue:i.eventEditModal,"onUpdate:modelValue":e[18]||(e[18]=s=>i.eventEditModal=s),title:this.editevent.editTitle,"title-class":"text-black font-18","body-class":"p-4","header-class":"p-3 bg-info-subtle","hide-footer":"",class:"v-modal-custom",centered:""},{default:a(()=>[t("form",{onSubmit:e[17]||(e[17]=q((...s)=>r.editSubmit&&r.editSubmit(...s),["prevent"])),name:"event-form",id:"form-event"},[t("div",Ke,[t("div",Qe,[t("div",Xe,[e[40]||(e[40]=t("label",{class:"form-label"},"Type",-1)),p(t("select",{"onUpdate:modelValue":e[11]||(e[11]=s=>i.editevent.editcategory=s),class:"form-control",name:"category"},[(c(!0),v(V,null,D(i.categories,s=>(c(),v("option",{key:s.backgroundColor,value:`${s.value}`},u(s.name),9,$e))),128))],512),[[P,i.editevent.editcategory]])])]),t("div",et,[t("div",tt,[e[41]||(e[41]=t("label",{class:"form-label"},"Event Name",-1)),p(t("input",{id:"name","onUpdate:modelValue":e[12]||(e[12]=s=>this.editevent.editTitle=s),type:"text",class:"form-control",placeholder:"Insert Event name"},null,512),[[_,this.editevent.editTitle]])])]),t("div",st,[t("div",it,[e[43]||(e[43]=t("label",null,"Event Date",-1)),t("div",nt,[o(N,{placeholder:"Select date",modelValue:i.editevent.editcalendardates,"onUpdate:modelValue":e[13]||(e[13]=s=>i.editevent.editcalendardates=s),config:i.timeConfig,class:"form-control flatpickr-input",id:"caledate"},null,8,["modelValue","config"]),e[42]||(e[42]=t("span",{class:"input-group-text"},[t("i",{class:"ri-calendar-event-line"})],-1))])])]),t("div",lt,[t("div",ot,[e[44]||(e[44]=t("label",{for:"event-location"},"Location",-1)),t("div",null,[p(t("input",{type:"text",class:"form-control d-block","onUpdate:modelValue":e[14]||(e[14]=s=>i.editevent.editlocation=s),name:"event-location",id:"event-location",placeholder:"Event location"},null,512),[[_,i.editevent.editlocation]])])])]),e[46]||(e[46]=t("input",{type:"hidden",id:"eventid",name:"eventid",value:""},null,-1)),t("div",dt,[t("div",at,[e[45]||(e[45]=t("label",{class:"form-label"},"Description",-1)),p(t("textarea",{class:"form-control d-block",id:"event-description","onUpdate:modelValue":e[15]||(e[15]=s=>i.editevent.editdescri=s),placeholder:"Enter a description",rows:"3",spellcheck:"false"},null,512),[[_,i.editevent.editdescri]])])])]),t("div",rt,[t("button",{type:"button",class:"btn btn-soft-danger",id:"btn-delete-event",onClick:e[16]||(e[16]=(...s)=>r.confirm&&r.confirm(...s))},e[47]||(e[47]=[t("i",{class:"ri-close-line align-bottom"},null,-1),f(" Delete")])),e[48]||(e[48]=t("button",{type:"submit",class:"btn btn-success",id:"btn-save-event"},"Update Event",-1))])],32)]),_:1},8,["modelValue","title"])]),_:1})}const Pt=ne(le,[["render",ct]]);export{Pt as default};
