import{y as p,$ as M,t as b,x as O,R as X,A,M as E,a as P,m as R,C as Y,c as w,F as $}from"./AnimatedTheme-60f9fbb6.js";import{_}from"./_plugin-vue_export-helper-c27b6911.js";import{C as B}from"./ColorSet-ad471044.js";import{M as D}from"./MapLineSeries-6d567b35.js";import{d as L,o as G}from"./app-3cfb9ddb.js";function h(r,t,e){r=+r,t=+t,e=(a=arguments.length)<2?(t=r,r=0,1):a<3?1:+e;for(var i=-1,a=Math.max(0,Math.ceil((t-r)/e))|0,o=new Array(a);++i<a;)o[i]=r+i*e;return o}function I(r,t,e){var i=h(r,t-p,e).concat(t);return function(a){return i.map(function(o){return[a,o]})}}function k(r,t,e){var i=h(r,t-p,e).concat(t);return function(a){return i.map(function(o){return[o,a]})}}function T(){var r,t,e,i,a,o,c,u,l=10,m=l,f=90,g=360,S,j,x,y,d=2.5;function s(){return{type:"MultiLineString",coordinates:C()}}function C(){return h(M(i/f)*f,e,f).map(x).concat(h(M(u/g)*g,c,g).map(y)).concat(h(M(t/l)*l,r,l).filter(function(n){return b(n%f)>p}).map(S)).concat(h(M(o/m)*m,a,m).filter(function(n){return b(n%g)>p}).map(j))}return s.lines=function(){return C().map(function(n){return{type:"LineString",coordinates:n}})},s.outline=function(){return{type:"Polygon",coordinates:[x(i).concat(y(c).slice(1),x(e).reverse().slice(1),y(u).reverse().slice(1))]}},s.extent=function(n){return arguments.length?s.extentMajor(n).extentMinor(n):s.extentMinor()},s.extentMajor=function(n){return arguments.length?(i=+n[0][0],e=+n[1][0],u=+n[0][1],c=+n[1][1],i>e&&(n=i,i=e,e=n),u>c&&(n=u,u=c,c=n),s.precision(d)):[[i,u],[e,c]]},s.extentMinor=function(n){return arguments.length?(t=+n[0][0],r=+n[1][0],o=+n[0][1],a=+n[1][1],t>r&&(n=t,t=r,r=n),o>a&&(n=o,o=a,a=n),s.precision(d)):[[t,o],[r,a]]},s.step=function(n){return arguments.length?s.stepMajor(n).stepMinor(n):s.stepMinor()},s.stepMajor=function(n){return arguments.length?(f=+n[0],g=+n[1],s):[f,g]},s.stepMinor=function(n){return arguments.length?(l=+n[0],m=+n[1],s):[l,m]},s.precision=function(n){return arguments.length?(d=+n,S=I(o,a,90),j=k(t,r,d),x=I(u,c,90),y=k(i,e,d),s):d},s.extentMajor([[-180,-90+p],[180,90-p]]).extentMinor([[-180,-80-p],[180,80+p]])}function N(r,t){var e=t*t,i=e*e;return[r*(.8707-.131979*e+i*(-.013791+i*(.003971*e-.001529*i))),t*(1.007226+e*(.015085+i*(-.044475+.028874*e-.005916*i)))]}N.invert=function(r,t){var e=t,i=25,a;do{var o=e*e,c=o*o;e-=a=(e*(1.007226+o*(.015085+c*(-.044475+.028874*o-.005916*c)))-t)/(1.007226+o*(.015085*3+c*(-.044475*7+.028874*9*o-.005916*11*c)))}while(b(a)>p&&--i>0);return[r/(.8707+(o=e*e)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),e]};function W(){return O(N).scale(175.295)}class v extends D{constructor(){super(...arguments),Object.defineProperty(this,"_dataItem",{enumerable:!0,configurable:!0,writable:!0,value:this.makeDataItem({})})}_afterNew(){super._afterNew(),this.dataItems.push(this._dataItem),this._generate()}_updateChildren(){if(super._updateChildren(),this.isDirty("step")&&this._generate(),this.isDirty("clipExtent")&&this.get("clipExtent")){const t=this.chart;t&&t.events.on("geoboundschanged",()=>{this._generate()}),this._generate()}}_generate(){let t=T();if(t){if(this.get("clipExtent")){const i=this.chart;if(i){const a=i.geoBounds();a&&t.extent([[a.left,a.bottom],[a.right,a.top]])}}const e=this.get("step",10);t.stepMinor([360,360]),t.stepMajor([e,e]),this._dataItem.set("geometry",t())}}}Object.defineProperty(v,"className",{enumerable:!0,configurable:!0,writable:!0,value:"GraticuleSeries"});Object.defineProperty(v,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:D.classNames.concat([v.className])});const F={methods:{pacificMap(){let r=X.new("pacificMapDiv");r.setThemes([A.new(r)]);let t=r.container.children.push(E.new(r,{panX:"rotateX",panY:"none",opacity:1,projection:W()})),e=t.series.push(P.new(r,{geoJSON:R})),i=B.new(r,{}),a=0;e.mapPolygons.template.adapters.add("fill",function(u,l){a<10?a++:a=0;let m=l.dataItem.dataContext;if(m.colorWasSet)return u;{m.colorWasSet=!0;let f=Y.saturate(i.getIndex(a),.3);return l.setRaw("fill",f),f}}),e.mapPolygons.template.states.create("hover",{fillOpacity:1}),e.mapPolygons.template.setAll({tooltipText:"{name}",fillOpacity:.8});var o=t.series.insertIndex(0,v.new(r,{}));o.mapLines.template.setAll({stroke:w("#74788d"),strokeOpacity:.2});var c=t.series.unshift(P.new(r,{}));c.mapPolygons.template.setAll({fill:w("#fff"),stroke:w("#fff")}),c.data.push({geometry:$(90,180,-90,-180)})}},mounted(){this.pacificMap()}},J={id:"pacificMapDiv",style:{height:"420px"}};function q(r,t,e,i,a,o){return G(),L("div",J)}const V=_(F,[["render",q]]);export{V as default};
